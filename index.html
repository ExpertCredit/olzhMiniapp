<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Ñ—Å–æ—é–∑–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        #app {
            width: 100%;
            max-width: 500px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            position: relative;
        }
        
        .page {
            display: none;
            padding: 20px;
        }
        
        .page.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .header {
            background: #4a00e0;
            color: white;
            text-align: center;
            padding: 25px 20px;
        }
        
        .header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .header p {
            opacity: 0.9;
        }
        
        .form-container {
            padding: 25px 20px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
        }
        
        .input-group input, 
        .input-group textarea,
        .input-group select {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .input-group input:focus, 
        .input-group textarea:focus {
            border-color: #4a00e0;
            outline: none;
            box-shadow: 0 0 0 3px rgba(74, 0, 224, 0.1);
        }
        
        .btn {
            background: linear-gradient(to right, #4a00e0, #8e2de2);
            color: white;
            border: none;
            width: 100%;
            padding: 16px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 5px 15px rgba(142, 45, 226, 0.4);
            margin-top: 10px;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(142, 45, 226, 0.6);
        }
        
        .btn-secondary {
            background: #f0f4ff;
            color: #4a00e0;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .menu-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }
        
        .menu-item {
            background: #f0f4ff;
            border-radius: 15px;
            padding: 20px 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .menu-item:hover {
            transform: translateY(-5px);
            background: #e0e8ff;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }
        
        .menu-item i {
            font-size: 32px;
            display: block;
            margin-bottom: 10px;
            color: #4a00e0;
        }
        
        .menu-item span {
            font-weight: 500;
            color: #333;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: #777;
            font-size: 14px;
            border-top: 1px solid #eee;
        }
        
        .back-btn {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 20px;
            color: white;
            z-index: 10;
        }
        
        .content-block {
            background: #f9f9ff;
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
        
        .content-block h3 {
            color: #4a00e0;
            margin-bottom: 10px;
        }
        
        .content-block p {
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .law-list {
            list-style: none;
        }
        
        .law-list li {
            padding: 12px 0;
            border-bottom: 1px solid #eee;
        }
        
        .law-list li:last-child {
            border-bottom: none;
        }
        
        .law-list a {
            color: #4a00e0;
            text-decoration: none;
            font-weight: 500;
            display: flex;
            align-items: center;
        }
        
        .law-list a::after {
            content: "‚Üí";
            margin-left: auto;
            font-weight: bold;
        }
        
        @media (max-width: 480px) {
            .header {
                padding: 20px 15px;
            }
            
            .form-container {
                padding: 20px 15px;
            }
            
            .menu-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ -->
        <button class="back-btn" id="back-btn" style="display: none;">‚Üê</button>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ -->
        <div id="login-page" class="page active">
            <div class="header">
                <h1>–ü—Ä–æ—Ñ—Å–æ—é–∑</h1>
                <p>–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç</p>
            </div>
            
            <div class="form-container">
                <div class="input-group">
                    <label for="username">–§–ò–û</label>
                    <input type="text" id="username" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –ø–æ–ª–Ω–æ–µ –∏–º—è" required>
                </div>
                
                <div class="input-group">
                    <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="tel" id="phone" placeholder="+7 777 123 45 67" required>
                </div>
                
                <div class="remember">
                    <input type="checkbox" id="remember">
                    <label for="remember">–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è</label>
                </div>
                
                <button class="btn" id="login-btn">–í–æ–π—Ç–∏</button>
                
                <div class="signup-link" style="text-align: center; margin-top: 20px;">
                    <p>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" id="signup">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
                </div>
            </div>
            
            <div class="footer">
                <p>–°–æ–∑–¥–∞–Ω–æ –¥–ª—è –ø—Ä–æ—Ñ—Å–æ—é–∑–∞</p>
            </div>
        </div>
        
        <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
        <div id="main-menu-page" class="page">
            <div class="header">
                <h1>–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</h1>
                <p>–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ</p>
            </div>
            
            <div class="form-container">
                <div class="menu-grid">
                    <div class="menu-item" data-page="about-page">
                        <i>üë§</i>
                        <span>–û –ø—Ä–æ—Ñ—Å–æ—é–∑–µ</span>
                    </div>
                    
                    <div class="menu-item" data-page="laws-page">
                        <i>üì¢</i>
                        <span>–ü—Ä–∞–≤–æ–≤—ã–µ –∞–∫—Ç—ã</span>
                    </div>
                    
                    <div class="menu-item" data-page="appeal-page">
                        <i>üìù</i>
                        <span>–ü–æ–¥–∞—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ</span>
                    </div>
                    
                    <div class="menu-item" data-page="contact-page">
                        <i>üìû</i>
                        <span>–°–≤—è–∑–∞—Ç—å—Å—è</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –û –ø—Ä–æ—Ñ—Å–æ—é–∑–µ -->
        <div id="about-page" class="page">
            <div class="header">
                <h1>–û –ø—Ä–æ—Ñ—Å–æ—é–∑–µ</h1>
                <p>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</p>
            </div>
            
            <div class="form-container">
                <div class="content-block">
                    <h3>–ù–∞—à–∞ –º–∏—Å—Å–∏—è</h3>
                    <p>–ú—ã –∑–∞—â–∏—â–∞–µ–º –ø—Ä–∞–≤–∞ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –∏ —Å–æ–∑–¥–∞–µ–º –ª—É—á—à–∏–µ —É—Å–ª–æ–≤–∏—è —Ç—Ä—É–¥–∞ –¥–ª—è –≤—Å–µ—Ö —á–ª–µ–Ω–æ–≤ –ø—Ä–æ—Ñ—Å–æ—é–∑–∞.</p>
                    
                    <h3>–ù–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
                    <p>–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≥–æ–¥ –º—ã –ø–æ–º–æ–≥–ª–∏ –±–æ–ª–µ–µ 500 —Ä–∞–±–æ—Ç–Ω–∏–∫–∞–º —Ä–µ—à–∏—Ç—å —Ç—Ä—É–¥–æ–≤—ã–µ —Å–ø–æ—Ä—ã –∏ —É–ª—É—á—à–∏—Ç—å —É—Å–ª–æ–≤–∏—è —Ç—Ä—É–¥–∞.</p>
                    
                    <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                    <p>Email: info@prof-union.kz</p>
                    <p>–¢–µ–ª–µ—Ñ–æ–Ω: +7 777 123 45 67</p>
                    
                    <button class="btn" onclick="location.href='https://www.instagram.com/vko_senim/'">
                        –ü–µ—Ä–µ–π—Ç–∏ –≤ Instagram
                    </button>
                </div>
            </div>
        </div>
        
        <!-- –ü—Ä–∞–≤–æ–≤—ã–µ –∞–∫—Ç—ã -->
        <div id="laws-page" class="page">
            <div class="header">
                <h1>–ü—Ä–∞–≤–æ–≤—ã–µ –∞–∫—Ç—ã</h1>
                <p>–ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã</p>
            </div>
            
            <div class="form-container">
                <div class="content-block">
                    <ul class="law-list">
                        <li><a href="https://adilet.zan.kz/rus/docs/Z1400000211">–û –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Å–æ—é–∑–∞—Ö</a></li>
                        <li><a href="https://adilet.zan.kz/rus/docs/K1500000414">–¢—Ä—É–¥–æ–≤–æ–π –∫–æ–¥–µ–∫—Å –†–ö</a></li>
                        <li><a href="https://adilet.zan.kz/rus/docs/P1500001193">–û —Å–∏—Å—Ç–µ–º–µ –æ–ø–ª–∞—Ç—ã —Ç—Ä—É–¥–∞</a></li>
                        <li><a href="https://adilet.zan.kz/rus/docs/V1500012731">–û –≤—Ä–µ–¥–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞—Ö –∏ –ª—å–≥–æ—Ç–∞—Ö</a></li>
                        <li><a href="https://adilet.zan.kz/rus/docs/D23RR0000_1">–û—Ç—Ä–∞—Å–ª–µ–≤–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –≤ —Å—Ñ–µ—Ä–µ –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</a></li>
                        <li><a href="https://www.gov.kz/memleket/entities/vko-enbek/documents/details/672994">–û–±–ª–∞—Å—Ç–Ω–æ–µ —Ç—Ä—ë—Ö—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –í–ö–û</a></li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- –ü–æ–¥–∞—á–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è -->
        <div id="appeal-page" class="page">
            <div class="header">
                <h1>–ü–æ–¥–∞—á–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è</h1>
                <p>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –Ω–∏–∂–µ</p>
            </div>
            
            <div class="form-container">
                <div class="input-group">
                    <label>–û—Å—Ç–∞—Ç—å—Å—è –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ?</label>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-secondary" data-anonym="yes">–î–∞</button>
                        <button class="btn btn-secondary" data-anonym="no">–ù–µ—Ç</button>
                    </div>
                </div>
                
                <div id="personal-fields" style="display: none;">
                    <div class="input-group">
                        <label for="appeal-name">–§–ò–û</label>
                        <input type="text" id="appeal-name">
                    </div>
                    
                    <div class="input-group">
                        <label for="appeal-job">–î–æ–ª–∂–Ω–æ—Å—Ç—å / –ú–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã</label>
                        <input type="text" id="appeal-job">
                    </div>
                    
                    <div class="input-group">
                        <label for="appeal-phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <input type="tel" id="appeal-phone">
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="appeal-topic">–¢–µ–º–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è</label>
                    <input type="text" id="appeal-topic" required>
                </div>
                
                <div class="input-group">
                    <label for="appeal-details">–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è</label>
                    <textarea id="appeal-details" rows="4" required></textarea>
                </div>
                
                <button class="btn" id="submit-appeal">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ</button>
            </div>
        </div>
        
        <!-- –°–≤—è–∑–∞—Ç—å—Å—è —Å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º -->
        <div id="contact-page" class="page">
            <div class="header">
                <h1>–°–≤—è–∑–∞—Ç—å—Å—è</h1>
                <p>–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—é</p>
            </div>
            
            <div class="form-container">
                <div class="content-block">
                    <h3>–ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å –ø—Ä–æ—Ñ—Å–æ—é–∑–∞</h3>
                    <p>–û–ª–∂–∞—Ä –ê“õ—ã–ª–±–∞–µ–≤</p>
                    <p>–¢–µ–ª–µ–≥—Ä–∞–º: @Olzhar_Akylbayev</p>
                    <p>–¢–µ–ª–µ—Ñ–æ–Ω: +7 777 123 45 67</p>
                    
                    <div class="input-group">
                        <label for="contact-message">–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</label>
                        <textarea id="contact-message" rows="4" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å..."></textarea>
                    </div>
                    
                    <button class="btn" id="send-message">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        const state = {
            currentPage: 'login-page',
            previousPages: [],
            user: null,
            appealData: {
                isAnonymous: false
            }
        };

        // –≠–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        const app = document.getElementById('app');
        const backBtn = document.getElementById('back-btn');
        const pages = {
            'login-page': document.getElementById('login-page'),
            'main-menu-page': document.getElementById('main-menu-page'),
            'about-page': document.getElementById('about-page'),
            'laws-page': document.getElementById('laws-page'),
            'appeal-page': document.getElementById('appeal-page'),
            'contact-page': document.getElementById('contact-page')
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
            if (window.Telegram && window.Telegram.WebApp) {
                Telegram.WebApp.ready();
                Telegram.WebApp.expand();
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            setupEventListeners();
        });

        function setupEventListeners() {
            // –ö–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞
            document.getElementById('login-btn').addEventListener('click', handleLogin);
            
            // –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥
            backBtn.addEventListener('click', goBack);
            
            // –ü—É–Ω–∫—Ç—ã –º–µ–Ω—é
            document.querySelectorAll('.menu-item').forEach(item => {
                item.addEventListener('click', function() {
                    navigateTo(this.dataset.page);
                });
            });
            
            // –í—ã–±–æ—Ä –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç–∏ –≤ –æ–±—Ä–∞—â–µ–Ω–∏–∏
            document.querySelectorAll('[data-anonym]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const isAnonymous = this.dataset.anonym === 'yes';
                    state.appealData.isAnonymous = isAnonymous;
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                    document.getElementById('personal-fields').style.display = 
                        isAnonymous ? 'none' : 'block';
                    
                    // –í–∏–∑—É–∞–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–Ω–æ–ø–∫–∏
                    document.querySelectorAll('[data-anonym]').forEach(b => {
                        b.style.opacity = b === this ? '1' : '0.6';
                    });
                });
            });
            
            // –û—Ç–ø—Ä–∞–≤–∫–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è
            document.getElementById('submit-appeal').addEventListener('click', submitAppeal);
            
            // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
            document.getElementById('send-message').addEventListener('click', sendMessage);
            
            // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
            document.getElementById('signup').addEventListener('click', function(e) {
                e.preventDefault();
                alert('–î–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –ø—Ä–æ—Ñ—Å–æ—é–∑–∞');
            });
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
            document.getElementById('phone').addEventListener('input', formatPhone);
            document.getElementById('appeal-phone').addEventListener('input', formatPhone);
        }

        function handleLogin() {
            const username = document.getElementById('username').value.trim();
            const phone = document.getElementById('phone').value.trim();
            
            if (!username) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è');
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
            const phoneRegex = /^(\+7|8)[\s\-]?\(?\d{3}\)?[\s\-]?\d{3}[\s\-]?\d{2}[\s\-]?\d{2}$/;
            if (!phoneRegex.test(phone)) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞');
                return;
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            state.user = {
                name: username,
                phone: phone
            };
            
            // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
            navigateTo('main-menu-page');
        }

        function navigateTo(pageId) {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –∏—Å—Ç–æ—Ä–∏–∏
            state.previousPages.push(state.currentPage);
            
            // –°–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            pages[state.currentPage].classList.remove('active');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            state.currentPage = pageId;
            pages[pageId].classList.add('active');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞–∑–∞–¥ (–∫—Ä–æ–º–µ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é –∏ –≤—Ö–æ–¥–∞)
            backBtn.style.display = 
                (pageId === 'main-menu-page' || pageId === 'login-page') 
                ? 'none' : 'block';
        }

        function goBack() {
            if (state.previousPages.length > 0) {
                // –°–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
                pages[state.currentPage].classList.remove('active');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
                state.currentPage = state.previousPages.pop();
                pages[state.currentPage].classList.add('active');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ –Ω–∞–∑–∞–¥
                backBtn.style.display = 
                    (state.currentPage === 'main-menu-page' || state.currentPage === 'login-page') 
                    ? 'none' : 'block';
            }
        }

        function formatPhone(e) {
            let value = e.target.value.replace(/\D/g, '');
            
            if (value.length > 0) {
                if (value.startsWith('8')) {
                    value = value.substring(1);
                } else if (value.startsWith('7')) {
                    value = value.substring(1);
                }
                
                let formatted = '';
                if (value.length > 0) formatted = value.substring(0, 3);
                if (value.length > 3) formatted += ' ' + value.substring(3, 6);
                if (value.length > 6) formatted += ' ' + value.substring(6, 8);
                if (value.length > 8) formatted += ' ' + value.substring(8, 10);
                
                e.target.value = '+7 ' + formatted;
            }
        }

        function submitAppeal() {
            const topic = document.getElementById('appeal-topic').value.trim();
            const details = document.getElementById('appeal-details').value.trim();
            
            if (!topic || !details) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ–º—É –∏ –¥–µ—Ç–∞–ª–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è');
                return;
            }
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
            const appealData = {
                type: 'appeal',
                topic: topic,
                details: details,
                lang: 'ru',
                isAnonymous: state.appealData.isAnonymous
            };
            
            // –ï—Å–ª–∏ –Ω–µ –∞–Ω–æ–Ω–∏–º–Ω–æ, –¥–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            if (!state.appealData.isAnonymous) {
                appealData.name = document.getElementById('appeal-name').value.trim();
                appealData.job = document.getElementById('appeal-job').value.trim();
                appealData.phone = document.getElementById('appeal-phone').value.trim();
                
                if (!appealData.name || !appealData.phone) {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ');
                    return;
                }
            } else {
                appealData.name = '–ê–Ω–æ–Ω–∏–º–Ω–æ';
                appealData.job = '–ê–Ω–æ–Ω–∏–º–Ω–æ';
                appealData.phone = '–ê–Ω–æ–Ω–∏–º–Ω–æ';
            }
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ Telegram –±–æ—Ç
            if (window.Telegram && window.Telegram.WebApp) {
                Telegram.WebApp.sendData(JSON.stringify(appealData));
                alert('‚úÖ –í–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!');
                navigateTo('main-menu-page');
            } else {
                console.log('Appeal data:', appealData);
                alert('‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º: –æ–±—Ä–∞—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!');
                navigateTo('main-menu-page');
            }
        }

        function sendMessage() {
            const message = document.getElementById('contact-message').value.trim();
            
            if (!message) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ');
                return;
            }
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
            const messageData = {
                type: 'contact',
                message: message,
                user: state.user
            };
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ Telegram –±–æ—Ç
            if (window.Telegram && window.Telegram.WebApp) {
                Telegram.WebApp.sendData(JSON.stringify(messageData));
                alert('‚úÖ –í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!');
                navigateTo('main-menu-page');
            } else {
                console.log('Message data:', messageData);
                alert('‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º: —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!');
                navigateTo('main-menu-page');
            }
        }
    </script>
</body>
</html>
